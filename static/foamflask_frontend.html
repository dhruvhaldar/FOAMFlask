<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FOAMFlask</title>

  <!-- Resource hints for better performance -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  <link rel="preconnect" href="https://cdn.plot.ly">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Computer+Modern+Serif&display=swap" rel="stylesheet">
  <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
  <link rel="dns-prefetch" href="https://cdn.plot.ly">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            clifford: '#da373d',
          }
        }
      }
    }
  </script>
  
  <!-- Performance optimizations for plots -->
  <style>
    /* Optimize plot containers for smooth scrolling */
    #plotsContainer, #aeroContainer {
      contain: layout style paint;
      will-change: auto;
      content-visibility: auto;
    }
    
    #pressure-plot, #velocity-plot, #turbulence-plot, #residuals-plot,
    #cp-plot, #velocity-profile-plot {
      contain: layout style paint;
      /* transform: translateZ(0);
      backface-visibility: hidden; */
      content-visibility: auto;
    }
    
    /* Reduce repaints during scroll */
    .js-plotly-plot {
      will-change: auto;
    }
    
    /* Optimize output container */
    #output {
      contain: strict;
      content-visibility: auto;
    }
    
    /* Reduce layout thrashing */
    .grid {
      contain: layout style;
    }
    
  </style>

  <style>
    /* Modebar container styles */
    .modebar-container {
      position: absolute;
      top: 355px !important;
      right: 550px !important;
      z-index: 1001;
    }
    
    /* Modebar styles */
    .modebar {
      opacity: 0;
      transition: opacity 0.2s ease-in-out;
      transform: scale(1.5);
      transform-origin: bottom left;
      pointer-events: none;
      border: none;
      position: relative;
    }
    
    /* Show modebar on plot hover */
    .plot-container:hover .modebar,
    .js-plotly-plot:hover .modebar,
    .plotly-graph-div:hover .modebar,
    .plot-container:hover .modebar-container .modebar,
    .js-plotly-plot:hover .modebar-container .modebar,
    .plotly-graph-div:hover .modebar-container .modebar {
      opacity: 1;
      pointer-events: auto;
      z-index: 1000;
    }
    
    /* Notification styles */
    .notification {
      animation: slideIn 0.3s ease-out, fadeOut 0.3s ease-in 2.7s;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    @keyframes fadeOut {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }
    
    /* Page transition */
    .page {
      animation: fadeInPage 0.3s ease-in;
    }
    
    @keyframes fadeInPage {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>

</head>
<body class="bg-gray-50 text-gray-800 min-h-screen">

  <!-- Notification Container -->
  <div id="notificationContainer" class="fixed top-20 right-4 z-50 flex flex-col gap-2 pointer-events-none">
  </div>

  <!-- Navbar -->
  <nav class="bg-white shadow-md sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center">
          <h1 class="text-2xl font-bold text-gray-800">FOAMFlask</h1>
        </div>
        <div class="flex space-x-1">
          <button onclick="switchPage('setup')" id="nav-setup" class="px-4 py-2 rounded-md text-sm font-medium transition-colors nav-btn bg-blue-500 text-white">
            Setup
          </button>
          <button onclick="switchPage('run')" id="nav-run" class="px-4 py-2 rounded-md text-sm font-medium transition-colors nav-btn text-gray-700 hover:bg-gray-100">
            Run
          </button>
          <button onclick="switchPage('mesh')" id="nav-mesh" class="px-4 py-2 rounded-md text-sm font-medium transition-colors nav-btn text-gray-700 hover:bg-gray-100">
            Mesh
          </button>
          <button onclick="switchPage('plots')" id="nav-plots" class="px-4 py-2 rounded-md text-sm font-medium transition-colors nav-btn text-gray-700 hover:bg-gray-100">
            Plots
          </button>
          <button onclick="switchPage('post')" id="nav-post" class="px-4 py-2 rounded-md text-sm font-medium transition-colors nav-btn text-gray-700 hover:bg-gray-100">
            Post
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content Area -->
  <div class="p-4 sm:p-6">

  <!-- Setup Page -->
  <div id="page-setup" class="page max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6 flex flex-col gap-6">

    <!-- Case Directory -->
    <div class="flex flex-col sm:flex-row sm:items-center gap-2">
      <input type="text" id="caseDir" name="caseDir" class="border border-gray-300 rounded px-3 py-2 flex-1 w-full sm:w-auto" />
      <button type="button" onclick="setCase()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded w-full sm:w-auto">
        Set Case Dir
      </button>
    </div>

    <!-- Docker Config (collapsible) -->
    <details class="border border-gray-300 rounded p-3">
      <summary class="cursor-pointer font-semibold text-gray-700">
        Docker Config (click to expand)
      </summary>
      <div class="flex flex-col sm:flex-row sm:items-center gap-2 mt-2">
        <input type="text" id="dockerImage" name="dockerImage"
          placeholder="Docker image (e.g. haldardhruv/ubuntu_noble_openfoam:v12)"
          class="border border-gray-300 rounded px-3 py-2 flex-1 w-full sm:w-auto" />
        <input type="text" id="openfoamVersion" name="openfoamVersion"
          placeholder="OpenFOAM version (e.g. 12)"
          class="border border-gray-300 rounded px-3 py-2 w-full sm:w-32" />
        <button type="button" onclick="setDockerConfig(
          document.getElementById('dockerImage').value,
          document.getElementById('openfoamVersion').value
        )" class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded w-full sm:w-auto">
          Set Docker Config
        </button>
      </div>
    </details>

    <!-- Tutorial Selection -->
    <div class="flex flex-col sm:flex-row sm:items-center gap-2">
      <select id="tutorialSelect" class="border border-gray-300 rounded px-3 py-2 w-full sm:w-auto sm:max-w-xs">
        {{ options|safe }}
      </select>
      <button onclick="loadTutorial()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded w-full sm:w-auto">
        Load Tutorial
      </button>
    </div>

  </div>

  <!-- Run Page -->
  <div id="page-run" class="page hidden max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6 flex flex-col gap-6">

    <!-- Run Commands Section -->
    <div class="my-4">
      <h3 class="text-xl font-semibold mb-2">Run OpenFOAM Commands</h3>
      <div class="flex flex-col sm:flex-row gap-2">
        <button onclick="runCommand('./Allrun')" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded w-full sm:flex-1">
          Allrun
        </button>
        <button onclick="runCommand('blockMesh')" class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded w-full sm:flex-1">
          blockMesh
        </button>
        <button onclick="runCommand('simpleFoam')" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded w-full sm:flex-1">
          simpleFoam
        </button>
        <button onclick="runCommand('pimpleFoam')" class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded w-full sm:flex-1">
          pimpleFoam
        </button>
      </div>
    </div>

    <!-- Output -->
    <div class="flex flex-col">
      <h2 class="text-xl font-semibold mb-2">Output</h2>
      <div id="output" class="bg-gray-100 border border-gray-300 rounded p-4 h-64 sm:h-80 overflow-auto text-sm font-mono"></div>
    </div>

  </div>

  <!-- Mesh Page -->
<div id="page-mesh" class="page hidden max-w-7xl mx-auto bg-white shadow-lg rounded-lg p-6">
  <div class="flex flex-col gap-4">
    <!-- Header (unchanged) -->
    <div class="flex justify-between items-center">
      <h2 class="text-2xl font-bold">Mesh Visualization</h2>
      <div class="flex gap-2">
        <button onclick="runCommand('foamToVTK')" class="bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded text-sm">
          Generate VTK files (foamToVTK)
        </button>
        <button onclick="refreshMeshList()" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded text-sm">
          Refresh List
        </button>
      </div>
    </div>

    <!-- Main Two-Column Layout -->
    <div class="flex flex-col lg:flex-row gap-6">
      
      <!-- Left Sidebar: Controls -->
      <div class="w-full lg:w-1/3 flex flex-col gap-4 bg-gray-50 border border-gray-200 rounded-lg p-4">
        
        <!-- Mesh Selection -->
        <div class="flex flex-col gap-2">
          <select id="meshSelect" class="border border-gray-300 rounded px-3 py-2 w-full">
            <option value="">-- Select a mesh file --</option>
          </select>
          <button onclick="loadMeshVisualization()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded w-full">
            Load Mesh
          </button>
        </div>

        <!-- Mesh Controls -->
        <div id="meshControls" class="hidden flex flex-col gap-3 bg-white p-3 rounded border border-gray-300">
          <div class="flex items-center gap-2">
            <input type="checkbox" id="showEdges" checked class="rounded">
            <span class="text-sm">Show Edges</span>
          </div>

          <div class="flex items-center gap-2">
            <span class="text-sm">Color:</span>
            <select id="meshColor" class="border border-gray-300 rounded px-2 py-1 text-sm flex-1">
              <option value="lightblue">Light Blue</option>
              <option value="white">White</option>
              <option value="gray">Gray</option>
              <option value="red">Red</option>
              <option value="green">Green</option>
              <option value="blue">Blue</option>
            </select>
          </div>

          <div class="flex items-center gap-2">
            <span class="text-sm">View:</span>
            <select id="cameraPosition" class="border border-gray-300 rounded px-2 py-1 text-sm flex-1">
              <option value="">Auto</option>
              <option value="xy">XY Plane</option>
              <option value="xz">XZ Plane</option>
              <option value="yz">YZ Plane</option>
              <option value="iso">Isometric</option>
            </select>
          </div>

          <div class="flex gap-2">
            <button onclick="updateMeshView()" id="updateViewBtn" class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm w-1/2">
              Update View
            </button>
            <button onclick="toggleInteractiveMode()" id="toggleInteractiveBtn" class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded text-sm w-1/2">
              Interactive Mode
            </button>
          </div>
        </div>

        <!-- Mesh Info -->
        <div id="meshInfo" class="hidden bg-blue-50 border border-blue-200 rounded p-3">
          <h3 class="font-semibold text-blue-900 mb-2">Mesh Information</h3>
          <div id="meshInfoContent" class="text-sm text-blue-800 grid grid-cols-2 gap-2"></div>
        </div>
      </div>

      <!-- Right Column: Geometry Viewer -->
      <div class="w-full lg:w-2/3 bg-gray-50 border-2 border-gray-300 rounded-lg overflow-hidden relative" style="min-height: 600px;">
        <!-- Camera Controls -->
        <div id="cameraControls" class="absolute bottom-4 right-4 z-10 flex flex-col gap-2 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-auto">
          <button onclick="setCameraView('xy')" class="bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-md backdrop-blur-sm" title="Top View (XY)">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
          </button>
          <button onclick="setCameraView('xz')" class="bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-md backdrop-blur-sm" title="Front View (XZ)">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
            </svg>
          </button>
          <button onclick="setCameraView('yz')" class="bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-md backdrop-blur-sm" title="Side View (YZ)">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
          </button>
          <button onclick="setCameraView('iso')" class="bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-md backdrop-blur-sm" title="Isometric View">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
            </svg>
          </button>
          <button onclick="resetCamera()" class="bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-md backdrop-blur-sm" title="Reset Camera">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
          </button>
        </div>

        <!-- Viewer -->
        <div id="meshPlaceholder" class="flex flex-col items-center justify-center h-full p-8 text-center">
          <div class="text-gray-500 mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
            </svg>
          </div>
          <h3 class="text-lg font-medium text-gray-700 mb-2">No Mesh Loaded</h3>
          <p class="text-gray-500">Select a mesh file and click "Load Mesh" to visualize</p>
        </div>
        <img id="meshImage" class="hidden w-full h-auto" alt="Mesh Visualization">
        <iframe id="meshInteractive" class="hidden w-full border-0" style="height: 800px;" title="Interactive Mesh Viewer"></iframe>
      </div>
    </div>
  </div>
</div>

  <!-- Plots Page -->
  <div id="page-plots" class="page hidden max-w-7xl mx-auto bg-white shadow-lg rounded-lg p-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-2xl font-bold">Realtime Plots</h2>
      <div class="flex gap-2">
        <button onclick="toggleAeroPlots()" id="toggleAeroBtn" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded">
          Show Aero Plots
        </button>
      </div>
    </div>

    <!-- Main Plots Container -->
    <div id="plotsContainer" class="w-full bg-white">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 w-full">
        
        <!-- Pressure Plot -->
        <div class="w-full overflow-hidden relative group">
          <div id="pressure-plot" class="w-full bg-gray-50 p-2 rounded-lg shadow border-2 border-gray-300" style="min-height: 300px;"></div>
          <button 
            onclick="downloadPlotData('pressure-plot', 'pressure_data.csv'); showNotification('Downloading pressure data...', 'info', 3000);" 
            class="absolute bottom-3 right-3 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10" 
            title="Download Pressure Data as CSV"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
            </svg> 
            CSV
          </button>
        </div>
        
        <!-- Velocity Plot -->
        <div class="w-full overflow-hidden relative group">
          <div id="velocity-plot" class="w-full bg-gray-50 p-2 rounded-lg shadow border-2 border-gray-300" style="min-height: 300px;"></div>
          <button 
            onclick="downloadPlotData('velocity-plot', 'velocity_data.csv')" 
            class="absolute bottom-3 right-3 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10" 
            title="Download Velocity Data as separate CSV"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
            </svg> 
            CSV
          </button>
        </div>

        <!-- Turbulence Plot -->
        <div class="w-full overflow-hidden relative group">
          <div id="turbulence-plot" class="w-full bg-gray-50 p-2 rounded-lg shadow border-2 border-gray-300" style="min-height: 300px;"></div>
          <button 
            onclick="downloadPlotData('turbulence-plot', 'turbulence_data.csv')" 
            class="absolute bottom-3 right-3 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10" 
            title="Download Turbulence Data as CSV"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
            </svg> 
            CSV
          </button>
        </div>

        <!-- Residuals Plot -->
        <div class="w-full overflow-hidden relative group">
          <div id="residuals-plot" class="w-full bg-gray-50 p-2 rounded-lg shadow border-2 border-gray-300" style="min-height: 300px;"></div>
          <button 
            onclick="downloadPlotData('residuals-plot', 'residuals_data.csv')" 
            class="absolute bottom-3 right-3 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10" 
            title="Download Residuals Data as CSV"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
            </svg> 
            CSV
          </button>
        </div>
      </div>
    </div>

    <!-- Aerodynamic Plots Container (optional) -->
    <div id="aeroContainer" class="hidden mt-4 w-full">
      <h3 class="text-xl font-semibold mb-2">Aerodynamic Analysis</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full">
        <div class="w-full overflow-hidden">
          <div id="cp-plot" class="w-full bg-gray-50 p-2 rounded-lg shadow border-2 border-gray-300"></div>
        </div>
        <div class="w-full overflow-hidden">
          <div id="velocity-profile-plot" class="w-full bg-gray-50 p-2 rounded-lg shadow border-2 border-gray-300"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Post Processing Page -->
  <div id="page-post" class="page hidden max-w-7xl mx-auto bg-white shadow-lg rounded-lg p-6">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Post Processing</h2>
  </div>
  <div id="post-processing-content" class="bg-gray-50 p-4 rounded-lg">
    <!-- Content will be loaded here by refreshPostList() -->
  </div>
  </div>

  </div>
  <!-- End Main Content Area -->

  <!-- Plotly.js - Load synchronously to ensure it's available when needed -->
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
  <script>
  // Initialize after both DOM and Plotly are loaded
  document.addEventListener("DOMContentLoaded", function() {
    // Check if Plotly is loaded
    if (typeof Plotly === 'undefined') {
      console.error('Plotly.js not loaded!');
      return;
    }
    
    // Initialize modebar styling
    const observer = new MutationObserver(() => {
      document.querySelectorAll('.modebar').forEach(bar => {
        bar.style.backgroundColor = 'transparent';
        bar.style.boxShadow = 'none';
      });
    });
    
    // Observe the document for Plotly plot creation
    observer.observe(document.body, { childList: true, subtree: true });
    
    // Initialize plots if we're on the plots page
    if (document.getElementById('page-plots') && !document.getElementById('page-plots').classList.contains('hidden')) {
      if (typeof startPlotUpdates === 'function') {
        startPlotUpdates();
      }
    }
  });
  </script>


  <!-- JS - defer loading -->
  <script src="{{ url_for('static', filename='js/foamflask_frontend.js') }}" defer></script>

<footer class="py-4 bg-white border-t border-gray-200">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex flex-col md:flex-row justify-between items-center text-sm text-gray-500 space-y-2 md:space-y-0">
      <div class="text-center md:text-left">
        <div>FOAMFlask &copy; 2025</div>
        <div class="text-xs mt-1">
          Licensed under <a href="https://www.gnu.org/licenses/gpl-3.0.html" 
          target="_blank" rel="noopener noreferrer" 
          class="text-blue-600 hover:text-blue-800">GNU GPLv3</a>
        </div>
      </div>
      <div class="flex items-center space-x-4">
  <span>Powered by:</span>

<a href="https://pyvista.org/" target="_blank" rel="noopener noreferrer" 
   class="flex items-center text-blue-600 hover:text-blue-800 transition-colors">
  <img src="{{ url_for('static', filename='icons/PyVista-logo.avif') }}"
       alt="PyVista" 
       class="h-8 w-auto">
</a>
  <span class="text-gray-400">|</span>

  <a href="https://plotly.com/" target="_blank" rel="noopener noreferrer" 
     class="flex items-center text-blue-600 hover:text-blue-800 transition-colors">
   <img src="{{ url_for('static', filename='icons/Plotly-logo.avif') }}" 
     alt="Plotly" 
     class="h-8 w-auto">
  </a>
</div>

    </div>
  </div>
</footer>

</body>
</html>
